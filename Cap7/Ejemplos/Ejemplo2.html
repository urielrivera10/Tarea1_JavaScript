<!DOCTYPE html>
<!-- Fig. 7.9 promedio2.html-->
<!--- Repeticion controlada de centinela para calcular el promedio de una case -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programa del promedio de una clase: repetici칩n controlada por centiela</title>
    <script>
        var total; //suma de calificaciones
        var contadorCalificaciones; //numero de calificaciones introducidas
        var calificacion; //calificacion escrita por el usuario (como cadena)
        var valorCalifiacion; //valor de la calificacion (convertido a entero)
        var promedio; //promedio de todas las calificaciones

        //fase de unicializacion
        total = 0; //borrar total
        contadorCalificaciones = 0; //preparar para iterar

        //fase de procesamiento
        //pedir la entrad y leer la calificacion del usuario
        calificacion = window.prompt("Escriba la calificaci칩n entera, -1 para salir:", "0");
        
        //convertir calificacion de cadena a entero
        valorCalifiacion = parseInt(calificacion);

        while (valorCalifiacion != -1)
        {
            //sumar valorCalificacion al total
            total = total + valorCalifiacion;

            //sumar 1 a contadorCalificaciones
            contadorCalificaciones = contadorCalificaciones +1;

            //pedir la entrada y leer calficacion del usuario
            calificacion = window.prompt( "Escriba la calificaci칩n entera -1 para salir:", "0");

            //convertir calificacion de cadena en entero
            valorCalifiacion = parseInt(calificacion);     
        }//fin del while

        //fase de terminacion
        if (contadorCalificaciones != 0)
        {
            promedio = total/contadorCalificaciones;

            //muestra el promedio de las calificaciones de los ex치menes
            document.write(
                "<h1> El promedio de la clase es" + promedio + "</h1>"
            );
        } // fin del if
        else
            document.writeln("<p>No se introdujeron calificaciones</p>");
    </script>
</head>
    <body>
        <button><a href="/JAVASCRIPT/index.html">Volver</a></button>
    </body>
</html>