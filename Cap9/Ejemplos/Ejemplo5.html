<!DOCTYPE html>
<!--- Fig.9.6 TiraraDados.html   -->
<!-- Tirara 12 dados mostrar las frecuencias -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frecuencia al tirara los dados</title>
    <style type="text/css">
        img {margin-right: 10px;}
        table { width: 20px;
            border-collapse: collapse;
            background-color: lightblue;}
        th {
            text-align: left;
            color: white;
            background-color: darkblue;
        }
    </style>
    <script>
        var frecuencia1 = 0;
        var frecuencia2 = 0;
        var frecuencia3 = 0;
        var frecuencia4 = 0;
        var frecuencia5 = 0;
        var frecuencia6 = 0;
        var totalDados = 0;

        //registara el manejador de eventos del boton
        function iniciar()
        {
            var boton = document.getElementById("botoTirar");
            boton.addEventListener("click", tiraraDados,false);
        }//fin de la función iniciar
        
        
        
        function tiraraDados()
        {
            var cara; //cara que se tiró
            
            //iterar para tirara el dado 12 veces 
            for(var i =1; i<=12; ++i)
            {
                cara = Math.floor(1 + Math.random() *6);
                SumarTiros(cara); //incrementa un contador de frecuncia
                establecerImagen( i, cara); //mostar a imagen del dado apropiado
                ++totalDados; //incremeneta el total
            }//fin del ciclo de tirar dados
            actualiarTablaFrecuencias();
        }
        //incremnetar el contador de frecuencias apropiado
        function SumarTiros(cara)
        {
            switch(cara)
            {
                case 1:
                    ++frecuencia1;
                    break;
                case 2:
                    ++frecuencia2;
                    break;
                case 3:
                    ++frecuencia3;
                    break;
                case 4:
                    ++frecuencia4;
                    break;
                case 5:
                    ++frecuencia5;
                    break;
                case 6:
                    ++frecuencia6;
                    break;
            }//fin de switch
        }
            //establecerr origen de la imagen para un dado
            function establecerImagen()
            {
                var imgDado = document.getElementById("dado" + numeroDado);
                imgDado.setAttribute("src", "dado" + cara + ".png");
                imgDado.setAttribute("alt", "dado con " + cara + "punto(s)");
            }//fin de la funcion establecer imagen 

            //actualizar tabla de frecuencias en la pagina 
            function actualiarTablaFrecuencias()
            {
                var divTabla = document.getElementById("divTablaFrecuencias");
                divTabla.innerHTML = "<table>" + 
                    "<caption>Frecuencia de tiro de los dados</caption>"+
                    "<thead><th>Cara</th><th>Frecuencia</th>" +
                    "<th>Porcentaje</th></thead>" +
                    "<tbody><tr><td>1</td><td>" + frecuencia1 + "</td><td>"+
                    formatoPorcentaje(frecuencia1 / totalDados) + "</td></tr>" +
                    "<tr><td>2</td><td>"+frecuencia2 + "</td><td>"+
                    formatoPorcentaje(frecuencia2 / totalDados ) +"</td></tr>"+
                    "<tr><td>3</td><td>" + frecuencia3  + "</td><td>" +
                    formatoPorcentaje(frecuencia3 / totalDados) + "</td></tr>" +
                    "<tr><td>4</td><td>" + frecuencia4 + "</td><td>" +
                    formatoPorcentaje(frecuencia4 / totalDados) + "</td></tr>" +
                    "<tr><td>5</td><td>" + frecuencia5 + "</td><td>" +
                    formatoPorcentaje(frecuencia5 / totalDados) + "</td></tr>" +
                    "<tr><td>6</td><td>" + frecuencia6 + "</td><td>" +
                    formatoPorcentaje(frecuencia6 / totalDados) + "</td></tr>" + 
                    "</tbody></table>";
            }//fin de la fncion actualizarTablaFrecuencias

            //aplicar formato al porcetaje
            function formatoPorcentaje(valor)
            {
                valor *=100;
                return valor.toFixed(2);
            }// fin de  la funcion formatoPorcentaje
            window.addEventListener("load", iniciar,false);
       
    </script>
</head>
    <body>
        <button><a href="/JAVASCRIPT/index.html">Volver</a></button> 
       <p><img id="dado6" src="/JAVASCRIPT/Cap9/dado6.png" alt="Imagen de dado 6 ">
          <img id="dado2" src="/JAVASCRIPT/Cap9/dado2.png" alt="Imagen de dado 2 ">
          <img id="dado3" src="/JAVASCRIPT/Cap9/dado3.png" alt="Imagen de dado 3 ">
          <img id="dado2" src="/JAVASCRIPT/Cap9/dado2.png" alt="Imagen de dado 2 ">
          <img id="dado3" src="/JAVASCRIPT/Cap9/dado3.png" alt="Imagen de dado 3 ">
          <img id="dado5" src="/JAVASCRIPT/Cap9/dado5.png" alt="Imagen de dado 5 ">
       </p> 
       <p>
        <img id="dado2" src="/JAVASCRIPT/Cap9/dado2.png" alt="Imagen de dado 2 ">
        <img id="dado1" src="/JAVASCRIPT/Cap9/dado1.png" alt="Imagen de dado 1 ">
        <img id="dado3" src="/JAVASCRIPT/Cap9/dado3.png" alt="Imagen de dado 3 ">
        <img id="dado1" src="/JAVASCRIPT/Cap9/dado1.png" alt="Imagen de dado 1 ">
        <img id="dado1" src="/JAVASCRIPT/Cap9/dado1.png" alt="Imagen de dado 1 ">
        </p>
        <form action="#">
            <input id="botonTirar" type="button" value="Tirar dados">
        </form>
        <div id="divTablaFrecuencias"></div>
    </body>
</html>